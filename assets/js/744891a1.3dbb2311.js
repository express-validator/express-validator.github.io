"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[550],{5318:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>f});var a=r(7378);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),u=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=u(r),m=n,f=p["".concat(s,".").concat(m)]||p[m]||c[m]||o;return r?a.createElement(f,l(l({ref:t},d),{},{components:r})):a.createElement(f,l({ref:t},d))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,l=new Array(o);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[p]="string"==typeof e?e:n,l[1]=i;for(var u=2;u<o;u++)l[u]=r[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},9798:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(7378),n=r(8944);const o="tabItem_wHwb";function l(e){var t=e.children,r=e.hidden,l=e.className;return a.createElement("div",{role:"tabpanel",className:(0,n.Z)(o,l),hidden:r},t)}},3930:(e,t,r)=>{r.d(t,{Z:()=>w});var a=r(5773),n=r(7378),o=r(8944),l=r(3457),i=r(3620),s=r(654),u=r(784),d=r(1819);function p(e){return function(e){var t,r;return null!=(t=null==(r=n.Children.map(e,(function(e){if(!e||(0,n.isValidElement)(e)&&(t=e.props)&&"object"==typeof t&&"value"in t)return e;var t;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:r.filter(Boolean))?t:[]}(e).map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes,default:t.default}}))}function c(e){var t=e.values,r=e.children;return(0,n.useMemo)((function(){var e=null!=t?t:p(r);return function(e){var t=(0,u.l)(e,(function(e,t){return e.value===t.value}));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,r])}function m(e){var t=e.value;return e.tabValues.some((function(e){return e.value===t}))}function f(e){var t=e.queryString,r=void 0!==t&&t,a=e.groupId,o=(0,i.k6)(),l=function(e){var t=e.queryString,r=void 0!==t&&t,a=e.groupId;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:r,groupId:a});return[(0,s._X)(l),(0,n.useCallback)((function(e){if(l){var t=new URLSearchParams(o.location.search);t.set(l,e),o.replace(Object.assign({},o.location,{search:t.toString()}))}}),[l,o])]}function v(e){var t,r,a,o,l=e.defaultValue,i=e.queryString,s=void 0!==i&&i,u=e.groupId,p=c(e),v=(0,n.useState)((function(){return function(e){var t,r=e.defaultValue,a=e.tabValues;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!m({value:r,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+r+'" but none of its children has the corresponding value. Available values are: '+a.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return r}var n=null!=(t=a.find((function(e){return e.default})))?t:a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:l,tabValues:p})})),h=v[0],k=v[1],y=f({queryString:s,groupId:u}),g=y[0],b=y[1],N=(t=function(e){return e?"docusaurus.tab."+e:null}({groupId:u}.groupId),r=(0,d.Nk)(t),a=r[0],o=r[1],[a,(0,n.useCallback)((function(e){t&&o.set(e)}),[t,o])]),w=N[0],E=N[1],T=function(){var e=null!=g?g:w;return m({value:e,tabValues:p})?e:null}();return(0,n.useLayoutEffect)((function(){T&&k(T)}),[T]),{selectedValue:h,selectValue:(0,n.useCallback)((function(e){if(!m({value:e,tabValues:p}))throw new Error("Can't select invalid tab value="+e);k(e),b(e),E(e)}),[b,E,p]),tabValues:p}}var h=r(6457);const k="tabList_J5MA",y="tabItem_l0OV";function g(e){var t=e.className,r=e.block,i=e.selectedValue,s=e.selectValue,u=e.tabValues,d=[],p=(0,l.o5)().blockElementScrollPositionUntilNextRender,c=function(e){var t=e.currentTarget,r=d.indexOf(t),a=u[r].value;a!==i&&(p(t),s(a))},m=function(e){var t,r=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":var a,n=d.indexOf(e.currentTarget)+1;r=null!=(a=d[n])?a:d[0];break;case"ArrowLeft":var o,l=d.indexOf(e.currentTarget)-1;r=null!=(o=d[l])?o:d[d.length-1]}null==(t=r)||t.focus()};return n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":r},t)},u.map((function(e){var t=e.value,r=e.label,l=e.attributes;return n.createElement("li",(0,a.Z)({role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,key:t,ref:function(e){return d.push(e)},onKeyDown:m,onClick:c},l,{className:(0,o.Z)("tabs__item",y,null==l?void 0:l.className,{"tabs__item--active":i===t})}),null!=r?r:t)})))}function b(e){var t=e.lazy,r=e.children,a=e.selectedValue,o=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){var l=o.find((function(e){return e.props.value===a}));return l?(0,n.cloneElement)(l,{className:"margin-top--md"}):null}return n.createElement("div",{className:"margin-top--md"},o.map((function(e,t){return(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==a})})))}function N(e){var t=v(e);return n.createElement("div",{className:(0,o.Z)("tabs-container",k)},n.createElement(g,(0,a.Z)({},e,t)),n.createElement(b,(0,a.Z)({},e,t)))}function w(e){var t=(0,h.Z)();return n.createElement(N,(0,a.Z)({key:String(t)},e))}},589:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>v,frontMatter:()=>u,metadata:()=>p,toc:()=>m});var a=r(5773),n=r(808),o=(r(7378),r(5318)),l=r(3930),i=r(9798),s=["components"],u={title:"Errors and Validation Results"},d=void 0,p={unversionedId:"api/validation-result",id:"version-7.0.0/api/validation-result",title:"Errors and Validation Results",description:"This page contains information about how you can determine if a request has been valid.",source:"@site/versioned_docs/version-7.0.0/api/validation-result.md",sourceDirName:"api",slug:"/api/validation-result",permalink:"/docs/api/validation-result",draft:!1,editUrl:"https://github.com/express-validator/express-validator/edit/master/docs/versioned_docs/version-7.0.0/api/validation-result.md",tags:[],version:"7.0.0",frontMatter:{title:"Errors and Validation Results"},sidebar:"api",previous:{title:"matchedData",permalink:"/docs/api/matched-data"},next:{title:"Miscellaneous",permalink:"/docs/api/misc"}},c={},m=[{value:"<code>validationResult()</code>",id:"validationresult",level:2},{value:"<code>withDefaults()</code>",id:"withdefaults",level:3},{value:"<code>ResultFactory&lt;T&gt;</code>",id:"resultfactory",level:2},{value:"<code>Result&lt;T&gt;</code>",id:"result",level:2},{value:"<code>.isEmpty()</code>",id:"isempty",level:3},{value:"<code>.formatWith()</code>",id:"formatwith",level:3},{value:"<code>.array()</code>",id:"array",level:3},{value:"<code>.mapped()</code>",id:"mapped",level:3},{value:"<code>.throw()</code>",id:"throw",level:3},{value:"Error types",id:"error-types",level:2},{value:"<code>FieldValidationError</code>",id:"fieldvalidationerror",level:3},{value:"<code>AlternativeValidationError</code>",id:"alternativevalidationerror",level:3},{value:"<code>GroupedAlternativeValidationError</code>",id:"groupedalternativevalidationerror",level:3},{value:"<code>UnknownFieldValidationError</code>",id:"unknownfieldvalidationerror",level:3},{value:"<code>ValidationError</code>",id:"validationerror",level:3},{value:"<code>ErrorFormatter&lt;T&gt;</code>",id:"errorformatter",level:2}],f={toc:m};function v(e){var t=e.components,r=(0,n.Z)(e,s);return(0,o.kt)("wrapper",(0,a.Z)({},f,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This page contains information about how you can determine if a request has been valid.\nIt also documents all possible validation error types."),(0,o.kt)("h2",{id:"validationresult"},(0,o.kt)("inlineCode",{parentName:"h2"},"validationResult()")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"validationResult(req: Request): Result<ValidationError>\n")),(0,o.kt)("p",null,"Extracts the validation results from a request, wraps them in a ",(0,o.kt)("a",{parentName:"p",href:"#result"},(0,o.kt)("inlineCode",{parentName:"a"},"Result")," object"),",\nand returns it."),(0,o.kt)(l.Z,{groupId:"lang",mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const { query, validationResult } = require('express-validator');\n\napp.post('/hello', query('person').notEmpty(), (req, res) => {\n  const result = validationResult(req);\n  // Use `result` to figure out if the request is valid or not\n});\n"))),(0,o.kt)(i.Z,{value:"ts",label:"TypeScript",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { query, Result, validationResult } from 'express-validator';\n\napp.post('/hello', query('person').notEmpty(), (req, res) => {\n  const result: Result = validationResult(req);\n  // Use `result` to figure out if the request is valid or not\n});\n")))),(0,o.kt)("h3",{id:"withdefaults"},(0,o.kt)("inlineCode",{parentName:"h3"},"withDefaults()")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"validationResult.withDefaults<T>(options: { formatter?: ErrorFormatter<T> }): ResultFactory<T>\n")),(0,o.kt)("p",null,"Creates a new ",(0,o.kt)("inlineCode",{parentName:"p"},"validationResult()"),"-like function that uses the provided options as the defaults in\nthe returned ",(0,o.kt)("inlineCode",{parentName:"p"},"Result")," object."),(0,o.kt)("p",null,"For example, it's possible to set the default ",(0,o.kt)("a",{parentName:"p",href:"#errorformatter"},"error formatter")," of a result like this:"),(0,o.kt)(l.Z,{groupId:"lang",mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const { query, validationResult } = require('express-validator');\nconst myValidationResult = validationResult.withDefaults({\n  formatter: error => error.msg,\n});\n\napp.post('/hello', query('person').notEmpty(), (req, res) => {\n  const errors = myValidationResult(req).array();\n  // => ['Invalid value']\n});\n"))),(0,o.kt)(i.Z,{value:"ts",label:"TypeScript",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { query, ResultFactory, validationResult } from 'express-validator';\nconst myValidationResult: ResultFactory<string> = validationResult.withDefaults({\n  formatter: error => error.msg as string,\n});\n\napp.post('/hello', query('person').notEmpty(), (req, res) => {\n  const errors: string[] = myValidationResult(req).array();\n  // => ['Invalid value']\n});\n")))),(0,o.kt)("h2",{id:"resultfactory"},(0,o.kt)("inlineCode",{parentName:"h2"},"ResultFactory<T>")),(0,o.kt)("h2",{id:"result"},(0,o.kt)("inlineCode",{parentName:"h2"},"Result<T>")),(0,o.kt)("p",null,"The result object is a wrapper around the validation state of a request.\nIt provides a couple of methods that you can use to determine if the request is valid or not."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"The type parameter ",(0,o.kt)("inlineCode",{parentName:"p"},"T")," refers to the type that errors as returned by methods such as\n",(0,o.kt)("a",{parentName:"p",href:"#array"},(0,o.kt)("inlineCode",{parentName:"a"},".array()"))," and ",(0,o.kt)("a",{parentName:"p",href:"#mapped"},(0,o.kt)("inlineCode",{parentName:"a"},".mapped()"))," will have."),(0,o.kt)("p",{parentName:"admonition"},"Its default is ",(0,o.kt)("a",{parentName:"p",href:"#validationerror"},(0,o.kt)("inlineCode",{parentName:"a"},"ValidationError")),", which can be changed by using ",(0,o.kt)("a",{parentName:"p",href:"#formatwith"},(0,o.kt)("inlineCode",{parentName:"a"},".formatWith()")),".")),(0,o.kt)("h3",{id:"isempty"},(0,o.kt)("inlineCode",{parentName:"h3"},".isEmpty()")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"isEmpty(): boolean\n")),(0,o.kt)("p",null,"Returns whether the request contains validation errors, and therefore whether it's valid or not."),(0,o.kt)("h3",{id:"formatwith"},(0,o.kt)("inlineCode",{parentName:"h3"},".formatWith()")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"formatWith<T>(formatter: ErrorFormatter<T>): Result<T>\n")),(0,o.kt)("p",null,"Rewraps the validation state in a new ",(0,o.kt)("inlineCode",{parentName:"p"},"Result")," object that uses ",(0,o.kt)("inlineCode",{parentName:"p"},"formatter")," as its ",(0,o.kt)("a",{parentName:"p",href:"#errorformatter"},"error formatter"),"."),(0,o.kt)("details",null,(0,o.kt)("summary",null,"\ud83d\udcad Why does this method return a new Result?"),(0,o.kt)("p",null,"If you've read through other pages of this documentation, you might be asking yourself why can't\n",(0,o.kt)("inlineCode",{parentName:"p"},".formatWith()")," mutate itself, like validation chains do?"),(0,o.kt)("p",null,"The reason for this is simple: TypeScript.",(0,o.kt)("br",null),"\nIt's not possible to change the generic type of an existing object. If some code references the\nresult as ",(0,o.kt)("inlineCode",{parentName:"p"},"Result<{ error: string }>"),", but after ",(0,o.kt)("inlineCode",{parentName:"p"},"formatWith")," it's now actually ",(0,o.kt)("inlineCode",{parentName:"p"},"Result<{ message: string }>"),",\nsome code consuming the old ",(0,o.kt)("inlineCode",{parentName:"p"},"Result")," type would not get compile-time errors about the type mismatch.")),(0,o.kt)(l.Z,{groupId:"lang",mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const { query, validationResult } = require('express-validator');\n\napp.post('/hello', query('person').notEmpty(), (req, res) => {\n  const result = validationResult(req);\n  const errors = result.array();\n  // => [{ msg: 'Invalid value', ... }]\n\n  const result2 = result.formatWith(error => error.msg);\n  const errors2 = result2.array();\n  // => ['Invalid value']\n});\n"))),(0,o.kt)(i.Z,{value:"ts",label:"TypeScript",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { query, Result, validationResult } from 'express-validator';\n\napp.post('/hello', query('person').notEmpty(), (req, res) => {\n  const result: Result = validationResult(req);\n  const errors = result.array();\n  // => [{ msg: 'Invalid value', ... }]\n\n  const result2: Result<string> = result.formatWith(error => error.msg as string);\n  const errors2 = result2.array();\n  // => ['Invalid value']\n});\n")))),(0,o.kt)("h3",{id:"array"},(0,o.kt)("inlineCode",{parentName:"h3"},".array()")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"array(options?: { onlyFirstError?: boolean }): T[]\n")),(0,o.kt)("p",null,"Returns a list of all errors from all validated fields."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const result = validationResult(req).array();\n// => [{ msg: 'Invalid value', path: 'field1' }, { msg: 'Invalid value', path: 'field1' }]\n")),(0,o.kt)("p",null,"When ",(0,o.kt)("inlineCode",{parentName:"p"},"options.onlyFirstError")," is set to ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),", then only the first error of each field is returned:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const result = validationResult(req).array({ onlyFirstError: true });\n// => [{ msg: 'Invalid value', path: 'field1' }]\n")),(0,o.kt)("h3",{id:"mapped"},(0,o.kt)("inlineCode",{parentName:"h3"},".mapped()")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"mapped(): Record<string, T>\n")),(0,o.kt)("p",null,"Returns an object from field path to error.\nIf a field has multiple errors, only the first one is returned."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const result = validationResult(req).mapped();\n// => { field1: { msg: 'Invalid value', ... }, field2: { msg: 'Invalid value', ... } }\n")),(0,o.kt)("h3",{id:"throw"},(0,o.kt)("inlineCode",{parentName:"h3"},".throw()")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"throw(): void\n")),(0,o.kt)("p",null,"If the result object has errors, then this method throws an error decorated with the same methods as\nthe ",(0,o.kt)("inlineCode",{parentName:"p"},"Result")," type.",(0,o.kt)("br",null),"\nThis is useful if you wish to forward the errors to the error handler middleware of your express.js\napplication, for example."),(0,o.kt)("p",null,"If the result object has no errors, then this method does nothing."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"app.post('/hello', query('person').notEmpty(), (req, res) => {\n  try {\n    validationResult(req).throw();\n    res.send(`Hello, ${req.query.person}!`);\n  } catch (e) {\n    res.status(400).send({ errors: e.mapped() });\n  }\n});\n")),(0,o.kt)("h2",{id:"error-types"},"Error types"),(0,o.kt)("p",null,"Different APIs in express-validator cause different types of validation errors.\nAll of them are documented here:"),(0,o.kt)("h3",{id:"fieldvalidationerror"},(0,o.kt)("inlineCode",{parentName:"h3"},"FieldValidationError")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"type FieldValidationError = {\n  type: 'field';\n  location: Location;\n  path: string;\n  value: any;\n  msg: any;\n};\n")),(0,o.kt)("p",null,"Represents an error caused when validating a single field, simple as that."),(0,o.kt)("h3",{id:"alternativevalidationerror"},(0,o.kt)("inlineCode",{parentName:"h3"},"AlternativeValidationError")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"type AlternativeValidationError = {\n  type: 'alternative';\n  msg: any;\n  nestedErrors: FieldValidationError[];\n};\n")),(0,o.kt)("p",null,"Represents an error caused when all alternatives (e.g. in ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/one-of"},(0,o.kt)("inlineCode",{parentName:"a"},"oneOf()")),") were invalid.\n",(0,o.kt)("inlineCode",{parentName:"p"},"nestedErrors")," contains a flat list of the individual field errors."),(0,o.kt)("h3",{id:"groupedalternativevalidationerror"},(0,o.kt)("inlineCode",{parentName:"h3"},"GroupedAlternativeValidationError")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"type AlternativeValidationError = {\n  type: 'alternative_grouped';\n  msg: any;\n  nestedErrors: FieldValidationError[][];\n};\n")),(0,o.kt)("p",null,"Represents an error caused when all alternatives (e.g. in ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/one-of"},(0,o.kt)("inlineCode",{parentName:"a"},"oneOf()")),") were invalid.\n",(0,o.kt)("inlineCode",{parentName:"p"},"nestedErrors")," contains the list of the individual field errors, grouped by the alternative."),(0,o.kt)("h3",{id:"unknownfieldvalidationerror"},(0,o.kt)("inlineCode",{parentName:"h3"},"UnknownFieldValidationError")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"type UnknownFieldsError = {\n  type: 'unknown_fields';\n  msg: any;\n  fields: { path: string; location: Location; value: any }[];\n};\n")),(0,o.kt)("p",null,"Represents an error caused when one or more fields are unknown; that is, they didn't have a validation\nchain when ",(0,o.kt)("inlineCode",{parentName:"p"},"checkExact()")," kicked off.\n",(0,o.kt)("inlineCode",{parentName:"p"},"fields")," contains the list of all unknown fields' paths, locations and values."),(0,o.kt)("h3",{id:"validationerror"},(0,o.kt)("inlineCode",{parentName:"h3"},"ValidationError")),(0,o.kt)("p",null,"Any of the validation errors.\nIt's possible to determine what the error actually is by looking at its ",(0,o.kt)("inlineCode",{parentName:"p"},"type")," property:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"switch (error.type) {\n  case 'field':\n    // `error` is a `FieldValidationError`\n    console.log(error.path, error.location, error.value);\n    break;\n\n  case 'alternative':\n    // `error` is an `AlternativeValidationError`\n    console.log(error.nestedErrors);\n    break;\n\n  case 'alternative_grouped':\n    // `error` is a `GroupedAlternativeValidationError`\n    error.nestedErrors.forEach((nestedErrors, i) => {\n      console.log(`Errors from chain ${i}:`);\n      console.log(nestedErrors);\n    });\n    break;\n\n  case 'unknown_fields':\n    // `error` is an `UnknownFieldsError`\n    console.log(error.fields);\n    break;\n\n  default:\n    // Error is not any of the known types! Do something else.\n    throw new Error(`Unknown error type ${error.type}`);\n}\n")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If you're using TypeScript, this technique is known as ",(0,o.kt)("a",{parentName:"p",href:"https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes-func.html#discriminated-unions"},"discriminated unions"),".")),(0,o.kt)("h2",{id:"errorformatter"},(0,o.kt)("inlineCode",{parentName:"h2"},"ErrorFormatter<T>")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"type ErrorFormatter<T> = (error: ValidationError) => T;\n")),(0,o.kt)("p",null,"A function used to format errors returned by methods such as ",(0,o.kt)("a",{parentName:"p",href:"#mapped"},(0,o.kt)("inlineCode",{parentName:"a"},"Result#mapped()"))," and ",(0,o.kt)("a",{parentName:"p",href:"#array"},(0,o.kt)("inlineCode",{parentName:"a"},"Result#array()")),".\nIt takes the ",(0,o.kt)("a",{parentName:"p",href:"#validationerror"},"unformatted error")," and must return a new value."))}v.isMDXComponent=!0}}]);